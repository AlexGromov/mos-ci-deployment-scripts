- project:
    name: 9.x.stacklight.runner
    node_label: Slave-srv69_agromov
    defaults: stacklight_global

    version:
      - 9.x:
          iso_magnet_link: release-9.0
          # timer: '5 21 * * *'
          detached_plugin_branch: '{fuel-branch-9_0}'

    plugin_branch:
      - master

    plugin_owner: 'StackLight team'

    jobs:
      - '{version}.stacklight.{plugin_branch}.runner'

    fuel_qa_branch: 'stable/mitaka'

- project:
    name: 9.x.stacklight.tests
    node_label: Slave-srv69_agromov
    defaults: stacklight_global

    version:
      - 9.x:
          iso_magnet_link: release-9.0
          fuel_qa_branch: '{fuel-branch-9_0}'

    plugin_branch:
      - master

    jobs:
      - '{version}.stacklight.{plugin_branch}.{test_group}':
          test_group: 'prepare_slaves_3_single_tests'
          tests:
              - "deploy_toolchain_ha_ceph_backend"
              - "deploy_toolchain_ha_platform_components"
              - "add_remove_toolchain_node"

      - '{version}.stacklight.{plugin_branch}.{test_group}':
          test_group: 'prepare_slaves_5_single_tests'
          tests: "deploy_toolchain_neutron_vxlan_l3ha"

      - '{version}.stacklight.{plugin_branch}.{test_group}':
          test_group: "prepare_slaves_9_single_tests"
          tests:
              - "deploy_toolchain_with_reduced_footprint"
              - "deploy_toolchain_with_https"
              - "deploy_toolchain_neutron_vxlan_l2pop_dvr"
              - "toolchain_createmirror_setup_repos"
              - "check_toolchain_after_maintenance_update"

      - '{version}.stacklight.{plugin_branch}.{test_group}':
          test_group: 'deploy_standalone_backends'
          tests: 'deploy_standalone_backends'
      - '{version}.stacklight.{plugin_branch}.{test_group}':
          test_group: 'detached_plugins'
          tests: 'detached_plugins'
      - '{version}.stacklight.{plugin_branch}.{test_group}':
          test_group: 'network_templates'
          tests: 'network_templates'
      - '{version}.stacklight.{plugin_branch}.{test_group}':
          test_group: 'ldap'
          tests: 'ldap'
      - '{version}.stacklight.{plugin_branch}.{test_group}':
          test_group: 'failover'
          tests: 'failover'

- project:
    name: build_stacklight.all_slaves
    node_label: Slave-srv69_agromov
    defaults: stacklight_global

    version: 9.x
    plugin_branch: master
    detached_plugin_branch: master

    jobs:
      - '{version}.build_stacklight.{plugin_branch}.all_slaves'
