- job:
    name: 9.0-superjob_for_VLAN_NOVA-mitaka
    builders:
      - shell:
          !include-raw: ../neutron/9.0_mitaka_iso_and_erase_env.sh
      - trigger-builds:
        - project: '9.0_create_param_environment'
          same-node: true
          block: true
          predefined-parameters: |
            SNAPSHOT_NAME=ha_deploy_VLAN
            TEST_TYPE=NEUTRON
            SEGMENT_TYPE=VLAN
            DISABLE_SSL=TRUE
            CONTROLLERS_COUNT=1
            COMPUTES_COUNT=1
            SLAVE_NODE_CPU=8
            SLAVE_NODE_MEMORY=17408
            MOS_VERSION=mitaka

      - trigger-builds:
        - project: '9.0-NOVA_tests_generated_from_template'
          same-node: true
          block: true
          block-thresholds:
            build-step-failure-threshold: 'never'
          predefined-parameters: |
            SNAPSHOT_NAME=ha_deploy_VLAN
            MOS_VERSION=mitaka


      - trigger-builds:
        - project: 'test_rail_reporter'
          same-node: true
          block: true
          block-thresholds:
            build-step-failure-threshold: 'never'
          predefined-parameters: |
            SNAPSHOT_NAME=ha_deploy_VLAN
            TEST_GROUP=NOVA
            REPORT_PREFIX=/srv/jenkins/nova
            MOS_VERSION=mitaka
            MILESTONE=9.0
            SUITE=[9.0][MOSQA] Automated Cloud Testing



    triggers:
        - timed: "30 21 * * *"
    project-type: freestyle
    defaults: global
    node: master
    description: 'VLAN NOVA tests with reporting to TestRail in a row.'
    disabled: true
    display-name: '9.0-mitaka VLAN NOVA'
    concurrent: false
    retry-count: 3
    logrotate:
      daysToKeep: 5
      numToKeep: 20
      artifactDaysToKeep: -1
      artifactNumToKeep: -1

